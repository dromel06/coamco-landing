---
// No frontmatter needed
const whatsappOptions = [
    { name: "Sales", number: "1234567890" },
    { name: "Support", number: "0987654321" },
    { name: "General", number: "1122334455" },
];
---

<style>
    .whatsapp-sticky {
        position: fixed;
        bottom: 24px;
        right: 24px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }
    .whatsapp-btn {
        background: #25d366;
        color: white;
        border: none;
        border-radius: 50%;
        width: 56px;
        height: 56px;
        font-size: 2rem;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        transition: background 0.2s;
    }
    .whatsapp-btn:hover {
        background: #1ebe57;
    }
    .options {
        margin-bottom: 8px;
        display: flex;
        flex-direction: column;
        gap: 8px;
        animation: fadeIn 0.2s;
    }
    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    .option-btn {
        background: #fff;
        color: #25d366;
        border: 1px solid #25d366;
        border-radius: 24px;
        padding: 8px 16px;
        font-size: 1rem;
        cursor: pointer;
        transition:
            background 0.2s,
            color 0.2s;
    }
    .option-btn:hover {
        background: #25d366;
        color: #fff;
    }
</style>

<div class="whatsapp-sticky" id="wa-sticky">
    <div id="wa-options" style="display:none;" class="options">
        {
            whatsappOptions.map((option) => (
                <a
                    class="option-btn"
                    href={`https://wa.me/${option.number}`}
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    {option.name}
                </a>
            ))
        }
    </div>
    <button class="whatsapp-btn" id="wa-main-btn" aria-label="WhatsApp">
        <svg width="28" height="28" fill="currentColor" viewBox="0 0 24 24">
            <path
                d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.472-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.149-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.447-.52.149-.174.198-.298.298-.497.099-.198.05-.372-.025-.521-.075-.148-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.372-.01-.571-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.099 3.2 5.077 4.363.71.306 1.263.489 1.694.626.712.227 1.36.195 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414-.074-.124-.272-.198-.57-.347z"
            ></path>
            <path
                d="M20.52 3.484A11.867 11.867 0 0 0 12.004 0C5.373 0 0 5.373 0 12c0 2.117.553 4.187 1.601 6.021L0 24l6.188-1.584A11.94 11.94 0 0 0 12.004 24C18.627 24 24 18.627 24 12c0-2.539-.78-5.016-2.48-8.516zM12.004 22.003c-1.885 0-3.733-.497-5.34-1.438l-.383-.228-3.674.942.982-3.584-.25-.369C2.06 15.14 1.5 13.587 1.5 12c0-5.799 4.705-10.5 10.504-10.5 2.813 0 5.456 1.096 7.447 3.088A10.47 10.47 0 0 1 22.5 12c0 5.799-4.705 10.503-10.496 10.503z"
            ></path>
        </svg>
    </button>
</div>

<script type="module">
    const btn = document.getElementById("wa-main-btn");
    const options = document.getElementById("wa-options");
    let open = false;
    btn.addEventListener("click", () => {
        open = !open;
        options.style.display = open ? "flex" : "none";
    });
    document.addEventListener("click", (e) => {
        if (!btn.contains(e.target) && !options.contains(e.target)) {
            options.style.display = "none";
            open = false;
        }
    });
</script>
